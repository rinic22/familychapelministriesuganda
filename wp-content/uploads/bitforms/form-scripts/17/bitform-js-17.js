 if(!window.bf_globals){ window.bf_globals={};}["bitforms_1_17_1"].forEach(function(contentId){const form=document.getElementById(contentId);if(!form){ delete window.bf_globals[contentId];return;}if(!window.bf_globals[contentId]){window.bf_globals[contentId]={inits:{},contentId: contentId};}else{ window.bf_globals[contentId].inits={};window.bf_globals[contentId].contentId=contentId;}});var bfSelect=function(){"use strict";return function(e,t){return(t||document).querySelector(e)}}();var bfReset=function(){"use strict";return function(e,t=!1){if(t){const t=new CustomEvent("bf-form-reset",{detail:{formId:e}});bfSelect(`#form-${e}`).dispatchEvent(t)}const s=window.bf_globals[e];"undefined"!=typeof resetPlaceholders&&resetPlaceholders(s),"undefined"!=typeof bfResetDefaultValue&&bfResetDefaultValue(s),"undefined"!=typeof customFieldsReset&&customFieldsReset(s),"undefined"!=typeof resetOtherOpt&&resetOtherOpt(),bfSelect(`#form-${e}`).reset(),localStorage.setItem("bf-entry-id",""),window.bf_globals[e].modifiedFields=s.fields,Object.keys(s.fields).forEach(t=>{const s=bfSelect(`#form-${e} .${t}-err-wrp`);s&&(setStyleProperty(s,"height","0px"),setStyleProperty(s,"opacity",0),setStyleProperty(bfSelect(`.${t}-err-msg`,s),"display","none"))}),s.gRecaptchaSiteKey&&"v2"===s.gRecaptchaVersion&&window?.grecaptcha?.reset(),s.turnstileSiteKey&&window?.turnstile?.reset(),s.hCaptchaSiteKey&&window?.hcaptcha?.reset()}}();var setBFMsg=function(){"use strict";return function(e){if("undefined"!=typeof handleConversationalFormMsg&&handleConversationalFormMsg(e))return;let t=bfSelect(`#bf-form-msg-wrp-${e.contentId}`);t.innerHTML=`<div class="bf-form-msg deactive ${e.type} scroll">${e.msg}</div>`,t=bfSelect(".bf-form-msg",t);let s=5e3;e.msgId&&(t=bfSelect(`.msg-content-${e.msgId} .msg-content`,bfSelect(`#${e.contentId}`)),t.innerHTML=e.msg,t=bfSelect(`.msg-container-${e.msgId}`,bfSelect(`#${e.contentId}`)),s=e.duration),t&&t.classList.replace("active","deactive"),t.classList.contains("scroll")&&scrollToElm(t),t&&(setTimeout(()=>{t.classList.replace("deactive","active")},100),s&&setTimeout(()=>{t.classList.replace("active","deactive")},s))}}();var bfSplit=function(){"use strict";return function(t,n,i=","){const r=n?.configs?.bf_separator||"__bf__";return t.includes(r)?t.split(r):t.split(i)}}();var scrollToElm=function(){"use strict";const t=function(t){(function(t,e=10){const n=t.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth;return n.top>=e&&n.left>=e&&n.bottom<=o-e&&n.right<=i-e})(t)||(function(t){let e=t.parentElement;for(;e&&e!==document.body;){if(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth){e.scrollIntoView({behavior:"smooth"});break}e=e.parentElement}}(t),t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))},e=function(t){let e;const n=function(...n){clearTimeout(e),e=setTimeout(()=>t(...n),300)};return n.cancel=function(){clearTimeout(e)},n}(t);return function(n,{immediate:o=!1}={}){e.cancel(),o?t(n):e(n)}}();var getFldKeyAndRowIndx=function(){"use strict";return function(n){const t=n.match(/([^\[]+)(?:\[(\d+)\])?/);return t?[t[1],t[2]||""]:[n]}}();var moveToFirstErrFld=function(){"use strict";return function(t,e=[]){const r=t?.layout||{},n=t?.nestedLayout||{},o=Array.isArray(r)&&r.length>1,i=Array.isArray(r)?r:[{layout:r}];let s=-1;const c=i.reduce((t,r,o)=>{const i=r.layout.lg.reduce((t,e)=>{const r=e.i;if(r in n){const e=n[r].lg.map(t=>t.i);return[...t,r,...e]}return[...t,r]},[]),c=i.find(t=>e.includes(t));return-1===s&&c&&(s=o),[...t,...i]},[]);o&&s>-1&&t.inits.multi_step_form.step!==s+1&&(t.inits.multi_step_form.step=s+1),t.inits?.conversational_form&&(t.inits.conversational_form.activeFieldStep=e[0]),c.some(r=>e.some(e=>{const[n,o]=getFldKeyAndRowIndx(e);if(r===n){const e=o?`.rpt-index-${o}`:"",n=bfSelect(`#form-${t.contentId} ${e} .btcd-fld-itm.${r}`);return setTimeout(()=>scrollToElm(n),0),!0}return!1}))}}();var bfValidationErrMsg=function(){"use strict";return function(e,t){const{data:r}=e;r&&"string"==typeof r?setBFMsg({contentId:t,msg:r,error:!0,show:!0,type:"error"}):r&&(void 0!==r.$form&&(setBFMsg({contentId:t,msg:r.$form.message,msgId:r.$form.msg_id,duration:r.$form.msg_duration,type:"error"}),delete r.$form),Object.keys(r).length>0&&function(e,t){const r=Object.keys(e);r.forEach(r=>{const[o,s]=getFldKeyAndRowIndx(r),y=bfSelect(`#form-${t} ${s?`.rpt-index-${s}`:""} .${o}-err-wrp`),i=bfSelect(`.${o}-err-txt`,y),n=bfSelect(`.${o}-err-msg`,y);let l=!1;try{l="grid"===getComputedStyle(y).display,l&&(y.style.removeProperty("opacity"),y.style.removeProperty("height"),n.style.removeProperty("display"))}catch(e){l=!1}i.innerHTML=e[r],l?setStyleProperty(y,"grid-template-rows","1fr"):setTimeout(()=>{n.style.removeProperty("display"),setStyleProperty(y,"height",`${i.offsetHeight}px`),setStyleProperty(y,"opacity",1)},100)}),moveToFirstErrFld(window?.bf_globals?.[t],r)}(r,t))}}();var setHiddenFld=function(){"use strict";return function e(t,n){let a=bfSelect(`input[name="${t.name}"]`,n);return a||(a=document.createElement("input"),a.type="text",a.className="d-none",n.append(a)),"b_h_t"===t.name&&(bfSelect(`input[name="${a.value}"]`,n)?.remove(),e({name:t.value,required:""},n)),Object.keys(t).forEach(e=>{a.setAttribute(e,t[e])}),a}}();var submit_form=function(){"use strict";function e(e,t){const o=new URL(e?.ajaxURL),n=e?.entryId?"bitforms_update_form_entry":"bitforms_submit_form";return o.searchParams.append("action",n),e?.entryId&&(o.searchParams.append("_ajax_nonce",e.nonce||""),o.searchParams.append("entryID",e.entryId),o.searchParams.append("formID",e.formId),o.searchParams.append("entryToken",e.entryToken||"")),fetch(o,{method:"POST",body:t})}function t(e,t,n){e.then(e=>new Promise((o,n)=>{if(e.staus>400){const o=new CustomEvent("bf-form-submit-error",{detail:{formId:t,errors:e.data}});bfSelect(`#form-${t}`).dispatchEvent(o),500===e.staus?n(new Error("Mayebe Internal Server Error")):n(e.json())}else o(e.json())})).then(e=>{const a=new CustomEvent("bf-form-submit-success",{detail:{formId:t,entryId:e.data.entry_id,formData:n}});bfSelect(`#form-${t}`).dispatchEvent(a);let r=null,s=null,c="",d=1e3;const i=window.bf_globals[t];if(void 0!==e&&e.success){const o=bfSelect(`#form-${t}`);bfReset(t),"object"==typeof e.data?(o&&e?.data?.hidden_fields?.map(e=>{setHiddenFld(e,o)}),r=e.data.redirectPage,e.data.cron&&(s=e.data.cron),e.data.cronNotOk&&(s=e.data.cronNotOk),e.data.new_nonce&&(c=e.data.new_nonce,i.nonce=c),setBFMsg({contentId:t,msgId:e.data.msg_id,msg:e.data.message,duration:e.data.msg_duration,show:!0,type:"success",error:!1}),d=Number(e.data.msg_duration||1e3)):setBFMsg({contentId:t,msg:e.data,type:"success",show:!0,error:!1}),localStorage.removeItem(`bitform-partial-form-${i.formId}`);const n=bfSelect('input[name="entryID"]',o);n&&n.remove(),delete i.entryId}else{const o=new CustomEvent("bf-form-submit-error",{detail:{formId:t,errors:e.data}});bfSelect(`#form-${t}`).dispatchEvent(o),bfValidationErrMsg(e,t)}if(function(e,t,o){const n=window.bf_globals[o];if(e)if("string"==typeof e){const t=new URL(e);t.protocol!==window.location.protocol&&(t.protocol=window.location.protocol),fetch(t)}else{const o=new URL(n.ajaxURL);o.searchParams.append("action","bitforms_trigger_workflow");const a={cronNotOk:e,token:t||n.nonce,id:n.appID};fetch(o,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(e=>e.json())}}(s,c,t),r){const e=setTimeout(()=>{window.location=decodeURI(r),e&&clearTimeout(e)},d)}o(t,!1)}).catch(e=>{const n=e?.message?e.message:"Unknown Error";setBFMsg({contentId:t,msg:n,show:!0,type:"error",error:!0}),o(t,!1)})}function o(e,t){const o=bfSelect('button[type="submit"]',bfSelect(`#form-${e}`));o&&(o.disabled=t);const n=bfSelect('button[type="submit"] span',bfSelect(`#form-${e}`));n&&n.classList.toggle("d-none")}return function(n=null){(n?[n]:Object.keys(window.bf_globals)).forEach(n=>{const a=bfSelect(`#form-${n}`);a&&(a.addEventListener("submit",n=>{!function(n){n.preventDefault();const a=n.target.id.slice(n.target.id.indexOf("-")+1);if("undefined"!=typeof validateForm&&!validateForm({form:a})){const e=new CustomEvent("bf-form-validation-error",{detail:{formId:a,fieldId:"",error:""}});return void n.target.dispatchEvent(e)}o(a,!0);let r=new FormData(n.target);const s=window.bf_globals[a];"undefined"!=typeof advancedFileHandle&&(r=advancedFileHandle(s,r)),"undefined"!=typeof decisionFldHandle&&(r=decisionFldHandle(s,r)),s.GCLID&&r.set("GCLID",s.GCLID);const c=[];Object.entries(s?.fields||{}).forEach(e=>{e[1]?.valid?.hide&&c.push(e[0])}),c.length&&r.append("hidden_fields",c),"v3"===s?.gRecaptchaVersion&&s?.gRecaptchaSiteKey?grecaptcha.ready(()=>{grecaptcha.execute(s.gRecaptchaSiteKey,{action:"submit"}).then(o=>{r.append("g-recaptcha-response",o),t(e(s,r),a,r)})}):t(e(s,r),a,r)}(n)}),bfSelect('button[type="reset"]',a)?.addEventListener("click",()=>bfReset(a.id.replace("form-",""),!0)))}),document.querySelectorAll(".msg-backdrop,.bf-msg-close").forEach(e=>{e.addEventListener("click",t=>{t.target===e&&(t.stopPropagation(),bfSelect(`#${e.dataset.contentid} .msg-container-${e.dataset.msgid}`).classList.replace("active","deactive"))})}),localStorage.setItem("bf-entry-id","")}}();var setStyleProperty=function(){"use strict";return function(t,e,r){t?.style&&t.style.setProperty(e,r,"important")}}();var generateBackslashPattern=function(){"use strict";return t=>(t||"").split("$_bf_$").join("\\")}();var emailFldValidation=function(){"use strict";return(e,t)=>t.err.invalid.show?new RegExp(generateBackslashPattern(t.pattern)).test(e)?"":"invalid":""}();var validateForm=function(){"use strict";let e,t,i={},n=[];const r=t=>window?.bf_globals?.[e].inits?.[t],l=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const r=Object.entries(t);for(let e=0;e<r.length;e+=1){const[t,l]=r[e];if(l?.fieldName===n)return i[n]=t,t}return""},d=()=>{const n=new FormData(bfSelect(`#form-${e}`)),r={},d=Array.from(n.entries());return i={},d.forEach(([e,i])=>{const n=l(e),d=e.replace("[]","");n in t&&(r[d]?(Array.isArray(r[d])||(r[d]=[r[d]]),r[d].push(i)):r[d]=i)}),r},o=(t,i,r,l="")=>{const d=bfSelect(`#form-${e} ${l} .${i}-err-wrp`),o=bfSelect(`.${i}-err-txt`,d),a=bfSelect(`.${i}-err-msg`,d);let f=!1;try{f="grid"===getComputedStyle(d).display,f&&(d.style.removeProperty("opacity"),d.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){f=!1}o&&"err"in(r||{})&&(t&&r?.err?.[t]?.show?(o.innerHTML=r.err[t].custom?r.err[t].msg:r.err[t].dflt,f?setStyleProperty(d,"grid-template-rows","1fr"):setTimeout(()=>{a.style.removeProperty("display"),setStyleProperty(d,"height",`${o.offsetHeight}px`),setStyleProperty(d,"opacity",1)},100),n.push(i)):(o.innerHTML="",f?setStyleProperty(d,"grid-template-rows","0fr"):(setStyleProperty(d,"height",0),setStyleProperty(d,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:a},{step:f,otherOptions:c}={}){i?e=i:a?.form?.id&&([,e]=a.form.id.split("form-"));const s=window?.bf_globals?.[e];if(void 0===s)return!1;let p={};n=[];const u=s.configs.bf_separator;if(f){let e=s.layout[f-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map(e=>e.i),n=s.nestedLayout||{};Object.entries(n).forEach(([e,t])=>{if(i.includes(e)){const e=t.lg.map(e=>e.i);i.push(...e)}}),t=i.reduce((e,t)=>({...e,[t]:s.fields[t]}),{})}else t=s.fields;const{modifiedFields:y}=s;if(y&&Object.assign(t,y),i)p=d();else if(a){if(!s.validateFocusLost&&!c?.validateOnInput)return!0;const e=l(a.name);p=d(),t={[e]:t[e]}}let m=!0;const h=Object.entries(t);let{length:F}=h;for(;F--;){const[t,i]=h[F];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,s);n=getRepeatedIndexes(e,s,a)}for(let l=0;l<n.length;l+=1){const d=n[l],a=d?`${i.fieldName}[${d}]`:i.fieldName,f=d?`.rpt-index-${d}`:"",c=i.typ,s="string"==typeof p[a]?p[a].trim():p[a];if(bfSelect(`#form-${e} ${f} .${t}.fld-hide`)){o("",t,i,f);continue}let y="";"check"!==c&&"image-select"!==c||(y="undefined"!=typeof checkFldValidation?checkFldValidation(s,i):""),"check"!==c&&"radio"!==c||y||"undefined"==typeof customOptionValidation||(y=customOptionValidation(e,t,i)),s||y||"0"===s||(y="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),o(y,t,i,f),y?m=!1:s&&("number"===c&&"undefined"!=typeof nmbrFldValidation?y=nmbrFldValidation(s,i):"email"===c&&"undefined"!=typeof emailFldValidation?y=emailFldValidation(s,i):"url"===c&&"undefined"!=typeof urlFldValidation?y=urlFldValidation(s,i):["decision-box","gdpr"].includes(c)&&"undefined"!=typeof dcsnbxFldValidation?y=dcsnbxFldValidation(s,i):["check","select","image-select"].includes(c)&&"undefined"!=typeof checkMinMaxOptions?y=checkMinMaxOptions(s,i,u):"range"===c&&"undefined"!=typeof checkMinMaxValue?y=checkMinMaxValue(s,i):"file-up"===c&&"undefined"!=typeof fileupFldValidation?y=fileupFldValidation(s,i):"advanced-file-up"===c&&"undefined"!=typeof advanceFileUpFldValidation?y=advanceFileUpFldValidation(r(t),i):"phone-number"===c&&"undefined"!=typeof phoneNumberFldValidation?y=phoneNumberFldValidation(r(t),i):"currency"===c&&"undefined"!=typeof currencyFldValidation&&(y=currencyFldValidation(r(t),i)),y||"undefined"==typeof bfDatetimeFldValidation||(y=bfDatetimeFldValidation(r(t),s,i)),i?.valid?.regexr&&!y&&(y="undefined"!=typeof regexPatternValidation?regexPatternValidation(s,i):null),o(y,t,i,f),y&&(m=!1))}}return moveToFirstErrFld(s,n),m}}();var bitform_init=function(){"use strict";function e(e=null){"undefined"!=typeof hidden_token_field&&hidden_token_field(e),"undefined"!=typeof initAllCustomFlds&&initAllCustomFlds(e),"undefined"!=typeof initAddOtherOpt&&initAddOtherOpt(e),"undefined"!=typeof setSliderFieldValue&&setSliderFieldValue(e),"undefined"!=typeof initCheckDisableOnMax&&initCheckDisableOnMax(e),"undefined"!=typeof validate_focus&&validate_focus(e),"undefined"!=typeof submit_form&&submit_form(e),"undefined"!=typeof bit_form_abandonment&&bit_form_abandonment(e),"undefined"!=typeof setFieldValues&&setFieldValues(e),"undefined"!=typeof bit_multi_step_form&&bit_multi_step_form(e),"undefined"!=typeof bit_conversational_form&&bit_conversational_form(e)}return document.addEventListener("DOMContentLoaded",()=>{e()}),e}();let bfContentId="",bfSlNo="1",bfVars="";